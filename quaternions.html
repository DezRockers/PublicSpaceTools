<!DOCTYPE html PUBLIC "-//IETF//DTD HTML 2.0//EN">
<html>
<head>

<!-- include generic.js for some quaternion functions -->
<script src="generic.js"></script>

<script type="text/javascript">

function Compute()
{
	var q = new Array();

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	q[0] = document.getElementById("q0").value;
	q[1] = document.getElementById("q1").value;
	q[2] = document.getElementById("q2").value;
	q[3] = document.getElementById("q3").value;

	document.getElementById("q0_out").value = q[0];
	document.getElementById("q1_out").value = q[1];
	document.getElementById("q2_out").value = q[2];
	document.getElementById("q3_out").value = q[3];
}

function NormalizeQuaternion(q)
{
	var norm = Math.sqrt(q[0]*q[0] + q[1]*q[1] + q[2]*q[2] + q[3]*q[3]);
	if (norm != 0)
	{
		q[0] = q[0]/norm;
		q[1] = q[1]/norm;
		q[2] = q[2]/norm;
		q[3] = q[3]/norm;
	}
	return q;
}

function NormalizeVector(v)
{
	var norm = Math.sqrt(v[0]*v[0] + v[1]*v[1] + v[2]*v[2]);
	if (norm != 0)
	{
		v[0] = v[0]/norm;
		v[1] = v[1]/norm;
		v[2] = v[2]/norm;
	}
	return v;
}

function CrossProduct(V1, V2)
{
	var V = new Array();

	// cross product
	V[0] = V1[1]*V2[2] - V1[2]*V2[1];
	V[1] = - V1[0]*V2[2] + V1[2]*V2[0];
	V[2] = V1[0]*V2[1] - V1[1]*V2[0];

	return V;
}

function QuaternionProduct(q1,q2)
{
	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var Q = new Array();
	Q[0] = new Array();
	Q[1] = new Array();
	Q[2] = new Array();
	Q[3] = new Array();

	Q[0][0] = q1[0];
	Q[0][1] = -q1[1];
	Q[0][2] = -q1[2];
	Q[0][3] = -q1[3];
	Q[1][0] = q1[1];
	Q[1][1] = q1[0];
	Q[1][2] = -q1[3];
	Q[1][3] = q1[2];
	Q[2][0] = q1[2];
	Q[2][1] = q1[3];
	Q[2][2] = q1[0];
	Q[2][3] = -q1[1];
	Q[3][0] = q1[3];
	Q[3][1] = -q1[2];
	Q[3][2] = q1[1];
	Q[3][3] = q1[0];

	var q = new Array();
	for (i = 0; i < 4; i++)
	{
		q[i] = 0;
		for (j = 0; j < 4; j++)
		{
			q[i] = q[i] + Q[i][j]*q2[j];
		}
	}
	return q;
}

function MultiplyQuaternions()
{
	var q1 = new Array();
	var q2 = new Array();
	var q = new Array();

	q1[0] = Math.round(document.getElementById("q0_1").value*1000000)/1000000;
	q1[1] = Math.round(document.getElementById("q1_1").value*1000000)/1000000;
	q1[2] = Math.round(document.getElementById("q2_1").value*1000000)/1000000;
	q1[3] = Math.round(document.getElementById("q3_1").value*1000000)/1000000;

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M1 = new Array();
	M1[0] = new Array();
	M1[1] = new Array();
	M1[2] = new Array();

	// convert quaternion to attitude matrix
	M1 = MatrixFromQuaternion(q1);
	document.getElementById("a11_1").value = Math.round(M1[0][0]*1000000)/1000000;
	document.getElementById("a12_1").value = Math.round(M1[0][1]*1000000)/1000000;
	document.getElementById("a13_1").value = Math.round(M1[0][2]*1000000)/1000000;
	document.getElementById("a21_1").value = Math.round(M1[1][0]*1000000)/1000000;
	document.getElementById("a22_1").value = Math.round(M1[1][1]*1000000)/1000000;
	document.getElementById("a23_1").value = Math.round(M1[1][2]*1000000)/1000000;
	document.getElementById("a31_1").value = Math.round(M1[2][0]*1000000)/1000000;
	document.getElementById("a32_1").value = Math.round(M1[2][1]*1000000)/1000000;
	document.getElementById("a33_1").value = Math.round(M1[2][2]*1000000)/1000000;

	q2[0] = Math.round(document.getElementById("q0_2").value*1000000)/1000000;
	q2[1] = Math.round(document.getElementById("q1_2").value*1000000)/1000000;
	q2[2] = Math.round(document.getElementById("q2_2").value*1000000)/1000000;
	q2[3] = Math.round(document.getElementById("q3_2").value*1000000)/1000000;

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M2 = new Array();
	M2[0] = new Array();
	M2[1] = new Array();
	M2[2] = new Array();

	// convert quaternion to attitude matrix
	M2 = MatrixFromQuaternion(q2);
	document.getElementById("a11_2").value = Math.round(M2[0][0]*1000000)/1000000;
	document.getElementById("a12_2").value = Math.round(M2[0][1]*1000000)/1000000;
	document.getElementById("a13_2").value = Math.round(M2[0][2]*1000000)/1000000;
	document.getElementById("a21_2").value = Math.round(M2[1][0]*1000000)/1000000;
	document.getElementById("a22_2").value = Math.round(M2[1][1]*1000000)/1000000;
	document.getElementById("a23_2").value = Math.round(M2[1][2]*1000000)/1000000;
	document.getElementById("a31_2").value = Math.round(M2[2][0]*1000000)/1000000;
	document.getElementById("a32_2").value = Math.round(M2[2][1]*1000000)/1000000;
	document.getElementById("a33_2").value = Math.round(M2[2][2]*1000000)/1000000;

	q = QuaternionProduct(q1, q2);

	document.getElementById("q0_result").value = Math.round(q[0]*1000000)/1000000;
	document.getElementById("q1_result").value = Math.round(q[1]*1000000)/1000000;
	document.getElementById("q2_result").value = Math.round(q[2]*1000000)/1000000;
	document.getElementById("q3_result").value = Math.round(q[3]*1000000)/1000000;
	
	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();

	// convert quaternion to attitude matrix
	M = MatrixFromQuaternion(q);
	document.getElementById("a11_result").value = Math.round(M[0][0]*1000000)/1000000;
	document.getElementById("a12_result").value = Math.round(M[0][1]*1000000)/1000000;
	document.getElementById("a13_result").value = Math.round(M[0][2]*1000000)/1000000;
	document.getElementById("a21_result").value = Math.round(M[1][0]*1000000)/1000000;
	document.getElementById("a22_result").value = Math.round(M[1][1]*1000000)/1000000;
	document.getElementById("a23_result").value = Math.round(M[1][2]*1000000)/1000000;
	document.getElementById("a31_result").value = Math.round(M[2][0]*1000000)/1000000;
	document.getElementById("a32_result").value = Math.round(M[2][1]*1000000)/1000000;
	document.getElementById("a33_result").value = Math.round(M[2][2]*1000000)/1000000;

}

function MatrixProduct(M1, M2)
{
	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();

	for (i = 0; i < 3; i++)
	{
		for (j = 0 ; j < 3; j++)
		{
			M[i][j] = M1[i][0]*M2[0][j] + M1[i][1]*M2[1][j] + M1[i][2]*M2[2][j];
		}
	}
	return M;
}

function MultiplyMatrices()
{
	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M1 = new Array();
	M1[0] = new Array();
	M1[1] = new Array();
	M1[2] = new Array();
	var M2 = new Array();
	M2[0] = new Array();
	M2[1] = new Array();
	M2[2] = new Array();
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();

	M1[0][0] = document.getElementById("a11_1").value;
	M1[0][1] = document.getElementById("a12_1").value;
	M1[0][2] = document.getElementById("a13_1").value;
	M1[1][0] = document.getElementById("a21_1").value;
	M1[1][1] = document.getElementById("a22_1").value;
	M1[1][2] = document.getElementById("a23_1").value;
	M1[2][0] = document.getElementById("a31_1").value;
	M1[2][1] = document.getElementById("a32_1").value;
	M1[2][2] = document.getElementById("a33_1").value;

	M2[0][0] = document.getElementById("a11_2").value;
	M2[0][1] = document.getElementById("a12_2").value;
	M2[0][2] = document.getElementById("a13_2").value;
	M2[1][0] = document.getElementById("a21_2").value;
	M2[1][1] = document.getElementById("a22_2").value;
	M2[1][2] = document.getElementById("a23_2").value;
	M2[2][0] = document.getElementById("a31_2").value;
	M2[2][1] = document.getElementById("a32_2").value;
	M2[2][2] = document.getElementById("a33_2").value;

	M = MatrixProduct(M1, M2);

	document.getElementById("a11_result").value = Math.round(M[0][0]*1000000)/1000000;
	document.getElementById("a12_result").value = Math.round(M[0][1]*1000000)/1000000;
	document.getElementById("a13_result").value = Math.round(M[0][2]*1000000)/1000000;
	document.getElementById("a21_result").value = Math.round(M[1][0]*1000000)/1000000;
	document.getElementById("a22_result").value = Math.round(M[1][1]*1000000)/1000000;
	document.getElementById("a23_result").value = Math.round(M[1][2]*1000000)/1000000;
	document.getElementById("a31_result").value = Math.round(M[2][0]*1000000)/1000000;
	document.getElementById("a32_result").value = Math.round(M[2][1]*1000000)/1000000;
	document.getElementById("a33_result").value = Math.round(M[2][2]*1000000)/1000000;
	
}

function DotProduct(V1, V2)
{
	return V1[0]*V2[0] + V1[1]*V2[1] + V1[2]*V2[2];
}


function Determinant(M)
{
	var D = 1;
	D = M[0][0]*(M[1][1]*M[2][2]-M[1][2]*M[2][1]) - 
		M[0][1]*(M[1][0]*M[2][2]-M[1][2]*M[2][0]) +
		M[0][2]*(M[1][0]*M[2][1]-M[2][0]*M[1][1]);

	return D;
}

function NormalizeMatrix(M)
{
	var X = new Array(M[0][0],M[0][1],M[0][2]);
	var Y = new Array(M[1][0],M[1][1],M[1][2]);
	var Z = new Array(M[2][0],M[2][1],M[2][2]);

	// normalize Z
	Z = NormalizeVector(Z);

	// X is cross product of Y and Z
	X = CrossProduct(Y, Z);

	// normalize X
	X = NormalizeVector(X);

	// Y is cross product of Z and X
	Y = CrossProduct(Z, X);

	M[0] = X;
	M[1] = Y;
	M[2] = Z;

	return M;
}


function NormalizeInputMatrix()
{
	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();
	M[0][0] = document.getElementById("a11").value;
	M[0][1] = document.getElementById("a12").value;
	M[0][2] = document.getElementById("a13").value;
	M[1][0] = document.getElementById("a21").value;
	M[1][1] = document.getElementById("a22").value;
	M[1][2] = document.getElementById("a23").value;
	M[2][0] = document.getElementById("a31").value;
	M[2][1] = document.getElementById("a32").value;
	M[2][2] = document.getElementById("a33").value;
	M = NormalizeMatrix(M);
	document.getElementById("a11").value = Math.round(M[0][0]*1000000)/1000000;
	document.getElementById("a12").value = Math.round(M[0][1]*1000000)/1000000;
	document.getElementById("a13").value = Math.round(M[0][2]*1000000)/1000000;
	document.getElementById("a21").value = Math.round(M[1][0]*1000000)/1000000;
	document.getElementById("a22").value = Math.round(M[1][1]*1000000)/1000000;
	document.getElementById("a23").value = Math.round(M[1][2]*1000000)/1000000;
	document.getElementById("a31").value = Math.round(M[2][0]*1000000)/1000000;
	document.getElementById("a32").value = Math.round(M[2][1]*1000000)/1000000;
	document.getElementById("a33").value = Math.round(M[2][2]*1000000)/1000000;

	// also update the transpose matrix
	UpdateTransposeMatrix();
}

function UpdateTransposeMatrix()
{
	document.getElementById("t11").value = document.getElementById("a11").value;
	document.getElementById("t12").value = document.getElementById("a21").value;
	document.getElementById("t13").value = document.getElementById("a31").value;
	document.getElementById("t21").value = document.getElementById("a12").value;
	document.getElementById("t22").value = document.getElementById("a22").value;
	document.getElementById("t23").value = document.getElementById("a32").value;
	document.getElementById("t31").value = document.getElementById("a13").value;
	document.getElementById("t32").value = document.getElementById("a23").value;
	document.getElementById("t33").value = document.getElementById("a33").value;
}
function ComputeMatrix()
{
	var q = new Array();

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();
	q[0] = document.getElementById("q0").value;
	q[1] = document.getElementById("q1").value;
	q[2] = document.getElementById("q2").value;
	q[3] = document.getElementById("q3").value;

	// convert quaternion to attitude matrix
	M = MatrixFromQuaternion(q);
	document.getElementById("a11").value = Math.round(M[0][0]*1000000)/1000000;
	document.getElementById("a12").value = Math.round(M[0][1]*1000000)/1000000;
	document.getElementById("a13").value = Math.round(M[0][2]*1000000)/1000000;
	document.getElementById("a21").value = Math.round(M[1][0]*1000000)/1000000;
	document.getElementById("a22").value = Math.round(M[1][1]*1000000)/1000000;
	document.getElementById("a23").value = Math.round(M[1][2]*1000000)/1000000;
	document.getElementById("a31").value = Math.round(M[2][0]*1000000)/1000000;
	document.getElementById("a32").value = Math.round(M[2][1]*1000000)/1000000;
	document.getElementById("a33").value = Math.round(M[2][2]*1000000)/1000000;

	// also update the transpose matrix
	UpdateTransposeMatrix();

	// convert attitude matrix to 3-1-3 Euler angles in radians
	// note that the attitude matrix is the transpose of the DCM
	// that is needed by the EulerAnglesFromMatrix function
	var E = new Array();
	E = EulerAnglesFromMatrix(Transpose(M));

	// convert angles in radians to degrees for output to text boxes
	document.getElementById("phi").value = Math.round(RadiansToDegrees(E[0])*1000000)/1000000;
	document.getElementById("theta").value = Math.round(RadiansToDegrees(E[1])*1000000)/1000000;
	document.getElementById("psi").value = Math.round(RadiansToDegrees(E[2])*1000000)/1000000;

	// convert 3-1-3 Euler angles in radians to quaternion for completeness and circular testing
	q = QuaternionFromEulerAngles(E);
	document.getElementById("q0_out").value = Math.round(q[0]*1000000)/1000000;
	document.getElementById("q1_out").value = Math.round(q[1]*1000000)/1000000;
	document.getElementById("q2_out").value = Math.round(q[2]*1000000)/1000000;
	document.getElementById("q3_out").value = Math.round(q[3]*1000000)/1000000;
}

function Transpose(M)
{
	var T = new Array();
	T[0] = new Array();
	T[1] = new Array();
	T[2] = new Array();

	var i = 0;
	var j = 0;
	for (i = 0; i < 3; i++)
	{
		for (j = 0; j < 3; j++)
		{ 
			T[i][j] = M[j][i];
		}
	}
	return T;
}

function ComputeEulerAngles()
{
	var q = new Array();

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();
	M[0][0] = Math.round(document.getElementById("a11").value*1000000)/1000000;
	M[0][1] = Math.round(document.getElementById("a12").value*1000000)/1000000;
	M[0][2] = Math.round(document.getElementById("a13").value*1000000)/1000000;
	M[1][0] = Math.round(document.getElementById("a21").value*1000000)/1000000;
	M[1][1] = Math.round(document.getElementById("a22").value*1000000)/1000000;
	M[1][2] = Math.round(document.getElementById("a23").value*1000000)/1000000;
	M[2][0] = Math.round(document.getElementById("a31").value*1000000)/1000000;
	M[2][1] = Math.round(document.getElementById("a32").value*1000000)/1000000;
	M[2][2] = Math.round(document.getElementById("a33").value*1000000)/1000000;

	// convert attitude matrix to 3-1-3 Euler angles in radians
	// note that the attitude matrix is the transpose of the DCM
	// that is needed by the EulerAnglesFromMatrix function
	var E = new Array();
	E = EulerAnglesFromMatrix(Transpose(M));

	// convert angles in radians to degrees for output to text boxes
	document.getElementById("phi").value = Math.round(RadiansToDegrees(E[0])*1000000)/1000000;
	document.getElementById("theta").value = Math.round(RadiansToDegrees(E[1])*1000000)/1000000;
	document.getElementById("psi").value = Math.round(RadiansToDegrees(E[2])*1000000)/1000000;

	// convert 3-1-3 Euler angles in radians to quaternion for completeness and circular testing
	q = QuaternionFromEulerAngles(E);
	document.getElementById("q0_out").value = Math.round(q[0]*1000000)/1000000;
	document.getElementById("q1_out").value = Math.round(q[1]*1000000)/1000000;
	document.getElementById("q2_out").value = Math.round(q[2]*1000000)/1000000;
	document.getElementById("q3_out").value = Math.round(q[3]*1000000)/1000000;

	document.getElementById("quaternionIn").reset();
}

function ComputeQuaternion()
{

	// get Euler angles in radians
	var E = new Array();
	E[0] = DegreesToRadians(document.getElementById("phi").value);
	E[1] = DegreesToRadians(document.getElementById("theta").value);
	E[2] = DegreesToRadians(document.getElementById("psi").value);

	// convert 3-1-3 Euler angles in radians to quaternion for completeness and circular testing
	var q = new Array();
	q = QuaternionFromEulerAngles(E);
	document.getElementById("q0_out").value = Math.round(q[0]*1000000)/1000000;
	document.getElementById("q1_out").value = Math.round(q[1]*1000000)/1000000;
	document.getElementById("q2_out").value = Math.round(q[2]*1000000)/1000000;
	document.getElementById("q3_out").value = Math.round(q[3]*1000000)/1000000;

	document.getElementById("quaternionIn").reset();

	// JavaScript does not support 2-D arrays
	// but it does support arrays of arrays
	// so let's create them
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();

	// convert quaternion to attitude matrix
	M = MatrixFromQuaternion(q);
	document.getElementById("a11").value = Math.round(M[0][0]*1000000)/1000000;
	document.getElementById("a12").value = Math.round(M[0][1]*1000000)/1000000;
	document.getElementById("a13").value = Math.round(M[0][2]*1000000)/1000000;
	document.getElementById("a21").value = Math.round(M[1][0]*1000000)/1000000;
	document.getElementById("a22").value = Math.round(M[1][1]*1000000)/1000000;
	document.getElementById("a23").value = Math.round(M[1][2]*1000000)/1000000;
	document.getElementById("a31").value = Math.round(M[2][0]*1000000)/1000000;
	document.getElementById("a32").value = Math.round(M[2][1]*1000000)/1000000;
	document.getElementById("a33").value = Math.round(M[2][2]*1000000)/1000000;

	// also update the transpose matrix
	UpdateTransposeMatrix();

}


// the following function computes the equivalent rotation matrix
// from the quaternion rotation
function MatrixFromQuaternion(q)
{
	var M = new Array();
	M[0] = new Array();
	M[1] = new Array();
	M[2] = new Array();

	// ensure q is normalized
	q = NormalizeQuaternion(q);

	M[0][0] = 2*(q[1]*q[1] + q[0]*q[0]) - 1;
	M[0][1] = 2*(q[1]*q[2] - q[3]*q[0]);
	M[0][2] = 2*(q[1]*q[3] + q[2]*q[0]);
	M[1][0] = 2*(q[1]*q[2] + q[3]*q[0]);
	M[1][1] = 2*(q[2]*q[2] + q[0]*q[0]) - 1;
	M[1][2] = 2*(q[2]*q[3] - q[1]*q[0]);
	M[2][0] = 2*(q[1]*q[3] - q[2]*q[0]);
	M[2][1] = 2*(q[2]*q[3] + q[1]*q[0]);
	M[2][2] = 2*(q[3]*q[3] + q[0]*q[0]) - 1;

	for (i = 0; i < 3; i++)
	{
		for (j = 0; j < 3; j++)
		{
			M[i][j] = Math.round(M[i][j]*1000000)/1000000;
		}
	}
	return M;	
}

// the following function computes the equivalent 313 Euler angles from the DCM matrix
function EulerAnglesFromMatrix(M)
{
	var E = new Array();

	// there are singularities when M[2][2] = +/-1
	// so these need to be handled with a special case
	if (M[2][2] == 1)
	{
		E[0] = 0;
		E[1] = 0;
		E[2] = Math.atan2((M[0][1] - M[1][0]), (M[0][0] + M[1][1]));
	}
	else if (M[2][2] == -1)
	{
		E[0] = 0;
		E[1] = DegreesToRadians(180);
		E[2] = Math.atan2(-(M[0][1] + M[1][0]), (M[0][0] - M[1][1]));
	}
	else
	{
		E[0] = Math.atan2(M[2][0],-M[2][1]);
		E[1] = Math.acos(M[2][2]);
		E[2] = Math.atan2(M[0][2],M[1][2]);
	}
	return E;
}

function QuaternionFromEulerAngles(E)
{
	var q = new Array();
	var phi = E[0];
	var theta = E[1];
	var psi = E[2];
	q[0] = Math.cos(theta/2)*Math.cos((phi+psi)/2);
	q[1] = Math.sin(theta/2)*Math.cos((phi-psi)/2);
	q[2] = Math.sin(theta/2)*Math.sin((phi-psi)/2);
	q[3] = Math.cos(theta/2)*Math.sin((phi+psi)/2);

	return q;
}

// function to convert degrees to radians
function DegreesToRadians(x)
{
	return x * pi / 180;
}

// function to convert radians to degrees
function RadiansToDegrees(x)
{
	return x * 180 / pi;
}


function ClearAll()
{
document.getElementById("quaternionIn").reset();
document.getElementById("quaternionOut").reset();
document.getElementById("rotationMatrix").reset();
document.getElementById("transposeMatrix").reset();
document.getElementById("eulerAngles").reset();
document.getElementById("vectorIn").reset();
document.getElementById("vectorOut").reset();
let target = document.getElementById('VisRotation');
	target.style.visibility = "hidden";
}

function ClearAllTable2()
{
document.getElementById("quaternion1").reset();
document.getElementById("quaternion2").reset();
document.getElementById("quaternionResult").reset();
document.getElementById("matrix1").reset();
document.getElementById("matrix2").reset();
document.getElementById("matrixResult").reset();
}


function VectorRotationByQuaternion()
{
	var q = new Array();
	var v = new Array();

	q[0] = document.getElementById("q0_out").value;
	q[1] = document.getElementById("q1_out").value;
	q[2] = document.getElementById("q2_out").value;
	q[3] = document.getElementById("q3_out").value;

	v[0] = document.getElementById("v0").value;
	v[1] = document.getElementById("v1").value;
	v[2] = document.getElementById("v2").value;

	var vout = QuaternionVectorRotation(q, v);

	document.getElementById("v0_out").value = vout[0];
	document.getElementById("v1_out").value = vout[1];
	document.getElementById("v2_out").value = vout[2];

	VectorRotationDisplay(q, v);

	var phi = document.getElementById("phi").value;
	var theta = document.getElementById("theta").value;
	var psi = document.getElementById("psi").value;
	VectorEulerDisplay(phi, theta, psi, v);

	//var txt = "Output vector = " + vout;
	//alert(txt);

}

function VectorRotationByMatrix()
{
	var M = Matrix(3,3);
	var v = new Array();

	M[0][0] = document.getElementById("a11").value;
	M[0][1] = document.getElementById("a12").value;
	M[0][2] = document.getElementById("a13").value;
	M[1][0] = document.getElementById("a21").value;
	M[1][1] = document.getElementById("a22").value;
	M[1][2] = document.getElementById("a23").value;
	M[2][0] = document.getElementById("a31").value;
	M[2][1] = document.getElementById("a32").value;
	M[2][2] = document.getElementById("a33").value;

	v[0] = document.getElementById("v0").value;
	v[1] = document.getElementById("v1").value;
	v[2] = document.getElementById("v2").value;

	var vout = MatrixVectorRotation(M,v);

	document.getElementById("v0_out").value = vout[0];
	document.getElementById("v1_out").value = vout[1];
	document.getElementById("v2_out").value = vout[2];

	//var txt = "Output vector = " + vout;
	//alert(txt);

}

function VectorRotationBy313EulerAngles()
{
	var v = new Array();
	v[0] = document.getElementById("v0").value;
	v[1] = document.getElementById("v1").value;
	v[2] = document.getElementById("v2").value;

	var phi = document.getElementById("phi").value;	// degrees
	var theta = document.getElementById("theta").value;	// degrees
	var psi = document.getElementById("psi").value;	// degrees

	// rotate vector about Z axis (axis 3) by psi
	var M = RotationMatrixAboutAxis(3, psi);
	var v1 = MatrixVectorRotation(M,v);

	// rotate new vector about X axis (axis 1) by theta
	M = RotationMatrixAboutAxis(1, theta);
	var v2 = MatrixVectorRotation(M,v1);

	// rotate new vector about Z axis (axis 3) by phi
	M = RotationMatrixAboutAxis(3, phi);
	var v3 = MatrixVectorRotation(M,v2);

	document.getElementById("v0_out").value = v3[0];
	document.getElementById("v1_out").value = v3[1];
	document.getElementById("v2_out").value = v3[2];

	//var txt = "Output vector = " + v3;
	//alert(txt);

}

// function to derive a set of rotation points for display purposes
function VectorRotationDisplay(q,v)
{
	// get the quaternion rotation angle in degrees
	var angleDegs = QuaternionRotationAngleDeg(q);

	// get the quaternion axis of rotation
	var r = QuaternionRotationAxis(q);

	// then derive a set of rotation points for all angles between 0 and angleDegs in 1 degree increments
	var xPoints = new Array();
	var yPoints = new Array();
	var zPoints = new Array();
	var vtemp = new Array();
	var qtemp = new Array();
	var i = 0;
	if (angleDegs > 1)
	{
		for (i = 0; i <= angleDegs; i++)
		{
			// effectively the angle of rotation of the quaternion
			qtemp[0] = Math.cos(DegreesToRadians(i/2));
			qtemp[1] = r[0] * Math.sin(DegreesToRadians(i/2));
			qtemp[2] = r[1] * Math.sin(DegreesToRadians(i/2));
			qtemp[3] = r[2] * Math.sin(DegreesToRadians(i/2));
			vtemp = QuaternionVectorRotation(qtemp,v);
			xPoints[i] = vtemp[0];
			yPoints[i] = vtemp[1];
			zPoints[i] = vtemp[2];
		}
	}
	else if (angleDegs < -1)
	{
		for (i = 0; i >= angleDegs; i--)
		{
			// effectively the angle of rotation of the quaternion
			qtemp[0] = Math.cos(DegreesToRadians(i/2));
			qtemp[1] = r[0] * Math.sin(DegreesToRadians(i/2));
			qtemp[2] = r[1] * Math.sin(DegreesToRadians(i/2));
			qtemp[3] = r[2] * Math.sin(DegreesToRadians(i/2));
			vtemp = QuaternionVectorRotation(qtemp,v);
			xPoints[-i] = vtemp[0];
			yPoints[-i] = vtemp[1];
			zPoints[-i] = vtemp[2];
		}
	}

	let target = document.getElementById('VisRotation');
	target.style.visibility = "visible";

	// update local storage for passing between html pages
	localStorage.setItem("xPoints", xPoints);
	localStorage.setItem("yPoints", yPoints);
	localStorage.setItem("zPoints", zPoints);
	localStorage.setItem("rotationAxis", r);
	localStorage.setItem("rotationAngle", angleDegs);
	localStorage.setItem("initialVector", v);

	var vout = new Array();
	vout[0] = document.getElementById('v0_out').value;
	vout[1] = document.getElementById('v1_out').value;
	vout[2] = document.getElementById('v2_out').value;
	localStorage.setItem("finalVector", vout);

}





// function to derive a set of 313 Euler angle rotation points for display purposes
function VectorEulerDisplay(phi, theta, psi, v)
{
	// perform each rotation in the order psi about Z, theta about X, phi about Z
	var xAxis = [ 1,0,0 ];
	var yAxis = [ 0,1,0 ];
	var zAxis = [ 0,0,1 ];

	// then derive a set of rotation points for all angles between 0 and psi in 1 degree increments
	var xPointsPsi = new Array();
	var yPointsPsi = new Array();
	var zPointsPsi = new Array();
	var xPointsPsi_xAxis = new Array();
	var yPointsPsi_xAxis = new Array();
	var zPointsPsi_xAxis = new Array();
	var xPointsPsi_yAxis = new Array();
	var yPointsPsi_yAxis = new Array();
	var zPointsPsi_yAxis = new Array();
	var vtemp = new Array();
	var M = Matrix(3,3);
	var i = 0;
	if (psi > 1)
	{
		for (i = 0; i <= psi; i++)
		{
			M = RotationMatrixAboutAxis(3, i);
			vtemp = MatrixVectorRotation(M, v);
			xPointsPsi[i] = vtemp[0];
			yPointsPsi[i] = vtemp[1];
			zPointsPsi[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, xAxis);
			xPointsPsi_xAxis[i] = vtemp[0];
			yPointsPsi_xAxis[i] = vtemp[1];
			zPointsPsi_xAxis[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsPsi_yAxis[i] = vtemp[0];
			yPointsPsi_yAxis[i] = vtemp[1];
			zPointsPsi_yAxis[i] = vtemp[2];
		}
	}
	else if (psi < -1)
	{
		for (i = 0; i >= psi; i--)
		{
			M = RotationMatrixAboutAxis(3, i);
			vtemp = MatrixVectorRotation(M, v);
			xPointsPsi[-i] = vtemp[0];
			yPointsPsi[-i] = vtemp[1];
			zPointsPsi[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, xAxis);
			xPointsPsi_xAxis[-i] = vtemp[0];
			yPointsPsi_xAxis[-i] = vtemp[1];
			zPointsPsi_xAxis[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsPsi_yAxis[-i] = vtemp[0];
			yPointsPsi_yAxis[-i] = vtemp[1];
			zPointsPsi_yAxis[-i] = vtemp[2];
		}
	}
	else
	{
		xPointsPsi[0] = v[0];
		yPointsPsi[0] = v[1];
		zPointsPsi[0] = v[2];
		xPointsPsi_xAxis[0] = xAxis[0];
		yPointsPsi_xAxis[0] = xAxis[1];
		zPointsPsi_xAxis[0] = xAxis[2];
		xPointsPsi_yAxis[0] = yAxis[0];
		yPointsPsi_yAxis[0] = yAxis[1];
		zPointsPsi_yAxis[0] = yAxis[2];
	}

	// update local storage for passing between html pages
	localStorage.setItem("xPointsPsi", xPointsPsi);
	localStorage.setItem("yPointsPsi", yPointsPsi);
	localStorage.setItem("zPointsPsi", zPointsPsi);
	localStorage.setItem("psi", psi);	// degrees

	var v1 = new Array();
	M = RotationMatrixAboutAxis(3, psi);
	v1 = MatrixVectorRotation(M, v);
	localStorage.setItem("intermediateVector1", v1);
	xAxis = MatrixVectorRotation(M, xAxis);
	yAxis = MatrixVectorRotation(M, yAxis);

	localStorage.setItem("xPointsPsi_xAxis", xPointsPsi_xAxis);
	localStorage.setItem("yPointsPsi_xAxis", yPointsPsi_xAxis);
	localStorage.setItem("zPointsPsi_xAxis", zPointsPsi_xAxis);
	localStorage.setItem("xPointsPsi_yAxis", xPointsPsi_yAxis);
	localStorage.setItem("yPointsPsi_yAxis", yPointsPsi_yAxis);
	localStorage.setItem("zPointsPsi_yAxis", zPointsPsi_yAxis);

	localStorage.setItem("xAxis1", xAxis);
	localStorage.setItem("yAxis1", yAxis);
	localStorage.setItem("zAxis1", zAxis);

	// then derive a set of rotation points for all angles between 0 and theta in 1 degree increments
	var xPointsTheta = new Array();
	var yPointsTheta = new Array();
	var zPointsTheta = new Array();
	var xPointsTheta_yAxis = new Array();
	var yPointsTheta_yAxis = new Array();
	var zPointsTheta_yAxis = new Array();
	var xPointsTheta_zAxis = new Array();
	var yPointsTheta_zAxis = new Array();
	var zPointsTheta_zAxis = new Array();
	var i = 0;
	if (theta > 1)
	{
		for (i = 0; i <= theta; i++)
		{
			M = RotationMatrixAboutAxis(1, i);
			vtemp = MatrixVectorRotation(M, v1);
			xPointsTheta[i] = vtemp[0];
			yPointsTheta[i] = vtemp[1];
			zPointsTheta[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsTheta_yAxis[i] = vtemp[0];
			yPointsTheta_yAxis[i] = vtemp[1];
			zPointsTheta_yAxis[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, zAxis);
			xPointsTheta_zAxis[i] = vtemp[0];
			yPointsTheta_zAxis[i] = vtemp[1];
			zPointsTheta_zAxis[i] = vtemp[2];
		}
	}
	else if (theta < -1)
	{
		for (i = 0; i >= theta; i--)
		{
			M = RotationMatrixAboutAxis(1, i);
			vtemp = MatrixVectorRotation(M, v1);
			xPointsTheta[-i] = vtemp[0];
			yPointsTheta[-i] = vtemp[1];
			zPointsTheta[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsTheta_yAxis[-i] = vtemp[0];
			yPointsTheta_yAxis[-i] = vtemp[1];
			zPointsTheta_yAxis[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, zAxis);
			xPointsTheta_zAxis[-i] = vtemp[0];
			yPointsTheta_zAxis[-i] = vtemp[1];
			zPointsTheta_zAxis[-i] = vtemp[2];
		}
	}
	else
	{
		xPointsTheta[0] = v1[0];
		yPointsTheta[0] = v1[1];
		zPointsTheta[0] = v1[2];
		xPointsTheta_yAxis[0] = yAxis[0];
		yPointsTheta_yAxis[0] = yAxis[1];
		zPointsTheta_yAxis[0] = yAxis[2];
		xPointsTheta_zAxis[0] = zAxis[0];
		yPointsTheta_zAxis[0] = zAxis[1];
		zPointsTheta_zAxis[0] = zAxis[2];
	}

	// update local storage for passing between html pages
	localStorage.setItem("xPointsTheta", xPointsTheta);
	localStorage.setItem("yPointsTheta", yPointsTheta);
	localStorage.setItem("zPointsTheta", zPointsTheta);
	localStorage.setItem("theta", theta);	// degrees

	var v2 = new Array();
	M = RotationMatrixAboutAxis(1, theta);
	v2 = MatrixVectorRotation(M, v1);
	localStorage.setItem("intermediateVector2", v2);
	yAxis = MatrixVectorRotation(M, yAxis);
	zAxis = MatrixVectorRotation(M, zAxis);

	localStorage.setItem("xPointsTheta_yAxis", xPointsTheta_yAxis);
	localStorage.setItem("yPointsTheta_yAxis", yPointsTheta_yAxis);
	localStorage.setItem("zPointsTheta_yAxis", zPointsTheta_yAxis);
	localStorage.setItem("xPointsTheta_zAxis", xPointsTheta_zAxis);
	localStorage.setItem("yPointsTheta_zAxis", yPointsTheta_zAxis);
	localStorage.setItem("zPointsTheta_zAxis", zPointsTheta_zAxis);

	localStorage.setItem("xAxis2", xAxis);
	localStorage.setItem("yAxis2", yAxis);
	localStorage.setItem("zAxis2", zAxis);

	// then derive a set of rotation points for all angles between 0 and phi in 1 degree increments
	var xPointsPhi = new Array();
	var yPointsPhi = new Array();
	var zPointsPhi = new Array();
	var xPointsPhi_xAxis = new Array();
	var yPointsPhi_xAxis = new Array();
	var zPointsPhi_xAxis = new Array();
	var xPointsPhi_yAxis = new Array();
	var yPointsPhi_yAxis = new Array();
	var zPointsPhi_yAxis = new Array();
	var i = 0;
	if (phi > 1)
	{
		for (i = 0; i <= phi; i++)
		{
			M = RotationMatrixAboutAxis(3, i);
			vtemp = MatrixVectorRotation(M, v2);
			xPointsPhi[i] = vtemp[0];
			yPointsPhi[i] = vtemp[1];
			zPointsPhi[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, xAxis);
			xPointsPhi_xAxis[i] = vtemp[0];
			yPointsPhi_xAxis[i] = vtemp[1];
			zPointsPhi_xAxis[i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsPhi_yAxis[i] = vtemp[0];
			yPointsPhi_yAxis[i] = vtemp[1];
			zPointsPhi_yAxis[i] = vtemp[2];
		}
	}
	else if (phi < -1)
	{
		for (i = 0; i >= phi; i--)
		{
			M = RotationMatrixAboutAxis(3, i);
			vtemp = MatrixVectorRotation(M, v2);
			xPointsPhi[-i] = vtemp[0];
			yPointsPhi[-i] = vtemp[1];
			zPointsPhi[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, xAxis);
			xPointsPhi_xAxis[-i] = vtemp[0];
			yPointsPhi_xAxis[-i] = vtemp[1];
			zPointsPhi_xAxis[-i] = vtemp[2];
			vtemp = MatrixVectorRotation(M, yAxis);
			xPointsPhi_yAxis[-i] = vtemp[0];
			yPointsPhi_yAxis[-i] = vtemp[1];
			zPointsPhi_yAxis[-i] = vtemp[2];
		}
	}
	else
	{
		xPointsPhi[0] = v2[0];
		yPointsPhi[0] = v2[1];
		zPointsPhi[0] = v2[2];
		xPointsPhi_xAxis[0] = xAxis[0];
		yPointsPhi_xAxis[0] = xAxis[1];
		zPointsPhi_xAxis[0] = xAxis[2];
		xPointsPhi_yAxis[0] = yAxis[0];
		yPointsPhi_yAxis[0] = yAxis[1];
		zPointsPhi_yAxis[0] = yAxis[2];
	}

	// update local storage for passing between html pages
	localStorage.setItem("xPointsPhi", xPointsPhi);
	localStorage.setItem("yPointsPhi", yPointsPhi);
	localStorage.setItem("zPointsPhi", zPointsPhi);
	localStorage.setItem("phi", phi);	// degrees

	var v3 = new Array();
	M = RotationMatrixAboutAxis(3, phi);
	v3 = MatrixVectorRotation(M, v2);
	localStorage.setItem("intermediateVector3", v3);
	xAxis = MatrixVectorRotation(M, xAxis);
	yAxis = MatrixVectorRotation(M, yAxis);

	localStorage.setItem("xPointsPhi_xAxis", xPointsPhi_xAxis);
	localStorage.setItem("yPointsPhi_xAxis", yPointsPhi_xAxis);
	localStorage.setItem("zPointsPhi_xAxis", zPointsPhi_xAxis);
	localStorage.setItem("xPointsPhi_yAxis", xPointsPhi_yAxis);
	localStorage.setItem("yPointsPhi_yAxis", yPointsPhi_yAxis);
	localStorage.setItem("zPointsPhi_yAxis", zPointsPhi_yAxis);

	localStorage.setItem("xAxis3", xAxis);
	localStorage.setItem("yAxis3", yAxis);
	localStorage.setItem("zAxis3", zAxis);


}









function Help()
{
	var txt = "Press 'Rotate Vector by Quaternion Out' to rotate the input vector by the output quaternion.\n\n";
	txt = txt + "Press 'Rotate Vector by Attitude Matrix' to rotate the input vector by the attitude matrix.\n\n";
	txt = txt + "Press 'Rotate Vector by 313 Euler Angles' to rotate the input vector by psi degrees about Z, \n";
	txt = txt + "then theta degrees about X and then phi degrees about Z.\n\n";
	txt = txt + "Note that the resulting vector should be the same in all cases.\n";
	alert(txt);
}

</script>
</head>

<body>
<H3 style="color:Silver;">Quaternion Conversions</H3>
<table border="1" borderColor="Silver">
  <col valign="top" />
  <col valign="top" />
  <col valign="top" />
  <col valign="top" />
<tr id="tr1">

<td style="vertical-align:top;">
<form id = "quaternionIn" style="color:Silver;">
Quaternion In<br />
<input type="text" id="q0" size=21/>q<sub>0</sub> (scalar)<br />
<input type="text" id="q1" size=21/>q<sub>1</sub><br />
<input type="text" id="q2" size=21/>q<sub>2</sub><br />
<input type="text" id="q3" size=21/>q<sub>3</sub><br />
</form>
<button type="button" onclick="ComputeMatrix()">Compute All</button><br />
<button type="button" onclick="ClearAll()">Clear All</button><br />
<button type="button" onclick="window.open('rotation.html', '_blank');">Help</button><br />
</td>

<td style="vertical-align:top;">
<form id = "rotationMatrix" style="color:Silver;">
Rotation (or Attitude) Matrix for point rotation&emsp;<br />
<input type="text" id="a11" maxLength=10 size=7  />
<input type="text" id="a12" maxLength=10 size=7  />
<input type="text" id="a13" maxLength=10 size=7  /><br />
<input type="text" id="a21" maxLength=10 size=7  />
<input type="text" id="a22" maxLength=10 size=7  />
<input type="text" id="a23" maxLength=10 size=7  /><br />
<input type="text" id="a31" maxLength=10 size=7  />
<input type="text" id="a32" maxLength=10 size=7  />
<input type="text" id="a33" maxLength=10 size=7  />
</form>
<form id = "transposeMatrix" style="color:Silver;">
Rotation Matrix for frame rotation&emsp;<br />
<input type="text" id="t11" maxLength=10 size=7  />
<input type="text" id="t12" maxLength=10 size=7  />
<input type="text" id="t13" maxLength=10 size=7  /><br />
<input type="text" id="t21" maxLength=10 size=7  />
<input type="text" id="t22" maxLength=10 size=7  />
<input type="text" id="t23" maxLength=10 size=7  /><br />
<input type="text" id="t31" maxLength=10 size=7  />
<input type="text" id="t32" maxLength=10 size=7  />
<input type="text" id="t33" maxLength=10 size=7  />
</form>
<button type="button" onclick="ComputeEulerAngles()">Compute All</button>
<button type="button" onclick="NormalizeInputMatrix()">Normalize Matrix</button>
</td>

<td style="vertical-align:top;">
<form id = "eulerAngles" style="color:Silver;">
3-1-3 Euler Angles<br />
<input type="text" id="psi" size=21/>&psi; (degs)<br />
<input type="text" id="theta" size=21/>&theta; (degs)<br />
<input type="text" id="phi" size=21/>&phi; (degs)<br />
</form>
<br /><button type="button" onclick="ComputeQuaternion()">Compute All</button><br />
</td>

<td style="vertical-align:top;"><form id = "quaternionOut" style="color:Silver;">
Quaternion Out (Normalized)<br />
<input type="text" id="q0_out" size=21/>q<sub>0</sub> (scalar)<br />
<input type="text" id="q1_out" size=21/>q<sub>1</sub><br />
<input type="text" id="q2_out" size=21/>q<sub>2</sub><br />
<input type="text" id="q3_out" size=21/>q<sub>3</sub><br />
</form>
</td>

<td style="vertical-align:top;">
<form id = "vectorIn" style="color:Silver;">
Vector In<br />
<input type="text" id="v0" size=21/>v<sub>0</sub><br />
<input type="text" id="v1" size=21/>v<sub>1</sub><br />
<input type="text" id="v2" size=21/>v<sub>2</sub><br />
</form>
<button type="button" onclick="VectorRotationByQuaternion()">Rotate Vector by Quaternion Out</button><br />
<button type="button" onclick="VectorRotationByMatrix()">Rotate Vector by Attitude Matrix</button><br />
<button type="button" onclick="VectorRotationBy313EulerAngles()">Rotate Vector by 313 Euler Angles</button><br />
<button type="button" onclick="Help()">Help</button><br />
</td>

<td style="vertical-align:top;">
<form id = "vectorOut" style="color:Silver;">
Rotated Vector<br />
<input type="text" id="v0_out" size=21/>v<sub>0</sub><br />
<input type="text" id="v1_out" size=21/>v<sub>1</sub><br />
<input type="text" id="v2_out" size=21/>v<sub>2</sub><br />
</form>
<button type="button" id="VisRotation" style="visibility:hidden" onclick="window.open('ShowRotation.html', '_blank');">Visualise Rotation</button><br />
</td>

</tr>

</table>

<H4 style="color:Silver;">Quaternion/Matrix Multiplication</H4>
<table border="1" borderColor="Silver">
  <col valign="top" />
  <col valign="top" />
  <col valign="top" />
<tr id="tr2">

<td style="vertical-align:top;">
<form id = "quaternion1" style="color:Silver;">
Quaternion 1 (input)<br />
<input type="text" id="q0_1" size=21/>q<sub>0</sub> (scalar)<br />
<input type="text" id="q1_1" size=21/>q<sub>1</sub><br />
<input type="text" id="q2_1" size=21/>q<sub>2</sub><br />
<input type="text" id="q3_1" size=21/>q<sub>3</sub><br />
</form>
</td>

<td style="vertical-align:top;">
<form id = "quaternion2" style="color:Silver;">
Quaternion 2 (input)<br />
<input type="text" id="q0_2" size=21/>q<sub>0</sub> (scalar)<br />
<input type="text" id="q1_2" size=21/>q<sub>1</sub><br />
<input type="text" id="q2_2" size=21/>q<sub>2</sub><br />
<input type="text" id="q3_2" size=21/>q<sub>3</sub><br />
</form>
</td>

<td style="vertical-align:top;">
<form id = "quaternionResult" style="color:Silver;">
Quaternion Result = q<sub>1</sub>xq<sub>2</sub><br />
<input type="text" id="q0_result" size=21/>q<sub>0</sub> (scalar)<br />
<input type="text" id="q1_result" size=21/>q<sub>1</sub><br />
<input type="text" id="q2_result" size=21/>q<sub>2</sub><button type="button" onclick="MultiplyQuaternions()">Multiply Quaternions</button><br />
<input type="text" id="q3_result" size=21/>q<sub>3</sub><button type="button" onclick="ClearAllTable2()">Clear All</button>
</form>

</td>

</tr>

<tr id="tr3">

<td style="vertical-align:top;">
<form id = "matrix1" style="color:Silver;">
Matrix 1<br />
<input type="text" id="a11_1" maxLength=10 size=7  />
<input type="text" id="a12_1" maxLength=10 size=7  />
<input type="text" id="a13_1" maxLength=10 size=7  /><br />
<input type="text" id="a21_1" maxLength=10 size=7  />
<input type="text" id="a22_1" maxLength=10 size=7  />
<input type="text" id="a23_1" maxLength=10 size=7  /><br />
<input type="text" id="a31_1" maxLength=10 size=7  />
<input type="text" id="a32_1" maxLength=10 size=7  />
<input type="text" id="a33_1" maxLength=10 size=7  /><br />
</form>
</td>

<td style="vertical-align:top;">
<form id = "matrix2" style="color:Silver;">
Matrix 2<br />
<input type="text" id="a11_2" maxLength=10 size=7  />
<input type="text" id="a12_2" maxLength=10 size=7  />
<input type="text" id="a13_2" maxLength=10 size=7  /><br />
<input type="text" id="a21_2" maxLength=10 size=7  />
<input type="text" id="a22_2" maxLength=10 size=7  />
<input type="text" id="a23_2" maxLength=10 size=7  /><br />
<input type="text" id="a31_2" maxLength=10 size=7  />
<input type="text" id="a32_2" maxLength=10 size=7  />
<input type="text" id="a33_2" maxLength=10 size=7  /><br />
</form>
</td>

<td style="vertical-align:top;">
<form id = "matrixResult" style="color:Silver;">
Matrix Result= M<sub>1</sub> x M<sub>2</sub><br />
<input type="text" id="a11_result" maxLength=10 size=7  />
<input type="text" id="a12_result" maxLength=10 size=7  />
<input type="text" id="a13_result" maxLength=10 size=7  /><button type="button" onclick="MultiplyMatrices()">Multiply Matrices</button><br />
<input type="text" id="a21_result" maxLength=10 size=7  />
<input type="text" id="a22_result" maxLength=10 size=7  />
<input type="text" id="a23_result" maxLength=10 size=7  /><br />
<input type="text" id="a31_result" maxLength=10 size=7  />
<input type="text" id="a32_result" maxLength=10 size=7  />
<input type="text" id="a33_result" maxLength=10 size=7  />
</form>
</td>

</tr>

</table>

</body>
</html>
